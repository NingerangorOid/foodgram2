{"ast":null,"code":"import _defineProperty from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./styles.module.css';import{LinkComponent,Icons,Popup}from'../index';import{useState}from'react';import cn from'classnames';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Purchase=function Purchase(_ref){var image=_ref.image,name=_ref.name,cooking_time=_ref.cooking_time,id=_ref.id,handleRemoveFromCart=_ref.handleRemoveFromCart,is_in_shopping_cart=_ref.is_in_shopping_cart,updateOrders=_ref.updateOrders,ingredients=_ref.ingredients;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toDelete=_useState4[0],setToDelete=_useState4[1];if(!is_in_shopping_cart){return null;}return/*#__PURE__*/_jsxs(\"li\",{className:styles.purchase,children:[toDelete&&/*#__PURE__*/_jsx(Popup,{title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442?\",onSubmit:function onSubmit(){handleRemoveFromCart({id:id,toAdd:false,callback:function callback(){updateOrders();setToDelete(false);}});},onClose:function onClose(){setToDelete(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:styles.purchaseBody,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.purchaseContent,children:[/*#__PURE__*/_jsx(\"div\",{alt:name,className:styles.purchaseImage,style:{backgroundImage:\"url(\".concat(image,\")\")}}),/*#__PURE__*/_jsxs(\"h3\",{className:styles.purchaseTitle,children:[/*#__PURE__*/_jsx(LinkComponent,{className:styles.recipeLink,title:name,href:\"/recipes/\".concat(id)}),/*#__PURE__*/_jsx(\"div\",{className:cn(styles.purchaseExpandButton,_defineProperty({},styles.purchaseExpandButtonExpanded,expanded)),onClick:function onClick(){return setExpanded(!expanded);},children:/*#__PURE__*/_jsx(Icons.ArrowExpand,{})})]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.purchaseText,children:[cooking_time,\" \\u043C\\u0438\\u043D.\"]})]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:styles.purchaseDelete,onClick:function onClick(_){return setToDelete(true);},children:/*#__PURE__*/_jsx(Icons.ReceiptDelete,{})})]}),expanded&&ingredients&&ingredients.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:styles.purchaseIngredients,children:ingredients.map(function(ingredient){return/*#__PURE__*/_jsx(\"li\",{children:ingredient.name});})})]});};export default Purchase;","map":{"version":3,"names":["styles","LinkComponent","Icons","Popup","useState","cn","Purchase","image","name","cooking_time","id","handleRemoveFromCart","is_in_shopping_cart","updateOrders","ingredients","expanded","setExpanded","toDelete","setToDelete","purchase","toAdd","callback","purchaseBody","purchaseContent","purchaseImage","backgroundImage","purchaseTitle","recipeLink","purchaseExpandButton","purchaseExpandButtonExpanded","purchaseText","purchaseDelete","_","length","purchaseIngredients","map","ingredient"],"sources":["D:/Foodgram/foodgram/frontend/src/components/purchase/index.js"],"sourcesContent":["import styles from './styles.module.css'\r\nimport { LinkComponent, Icons, Popup } from '../index'\r\nimport { useState } from 'react'\r\nimport cn from 'classnames'\r\n\r\nconst Purchase = ({\r\n  image,\r\n  name,\r\n  cooking_time,\r\n  id,\r\n  handleRemoveFromCart,\r\n  is_in_shopping_cart,\r\n  updateOrders,\r\n  ingredients\r\n}) => {\r\n  const [ expanded, setExpanded ] = useState(false)\r\n  const [ toDelete, setToDelete ] = useState(false)\r\n  if (!is_in_shopping_cart) { return null }\r\n\r\n  return <li className={styles.purchase}>\r\n    {toDelete && <Popup\r\n      title='Вы уверены, что хотите удалить рецепт?'\r\n      onSubmit={() => {\r\n        handleRemoveFromCart({\r\n          id,\r\n          toAdd: false,\r\n          callback: () => {\r\n            updateOrders()\r\n            setToDelete(false)\r\n          }\r\n        })\r\n      }}\r\n      onClose={() => {\r\n        setToDelete(false)\r\n      }}\r\n    />}\r\n    <div className={styles.purchaseBody}>\r\n      <div className={styles.purchaseContent}>\r\n        <div\r\n          alt={name}\r\n          className={styles.purchaseImage}\r\n          style={{\r\n            backgroundImage: `url(${image})`\r\n          }}\r\n        />\r\n        <h3 className={styles.purchaseTitle}>\r\n          <LinkComponent className={styles.recipeLink} title={name} href={`/recipes/${id}`} />\r\n          <div className={cn(styles.purchaseExpandButton, {\r\n            [styles.purchaseExpandButtonExpanded]: expanded\r\n          })} onClick={() => setExpanded(!expanded)}>\r\n            <Icons.ArrowExpand />\r\n          </div>\r\n        </h3>\r\n        <p className={styles.purchaseText}>\r\n          {cooking_time} мин.\r\n        </p>\r\n      </div>\r\n      <a\r\n        href=\"#\"\r\n        className={styles.purchaseDelete}\r\n        onClick={_ => setToDelete(true)}\r\n      >\r\n        <Icons.ReceiptDelete />\r\n      </a>\r\n    </div>\r\n    {expanded && ingredients && ingredients.length > 0 && <ul className={styles.purchaseIngredients}>\r\n      {ingredients.map(ingredient => {\r\n      return <li>{ingredient.name}</li>\r\n      })}\r\n    </ul>}\r\n    \r\n  </li>\r\n}\r\n\r\nexport default Purchase\r\n"],"mappings":"gTAAA,MAAOA,OAAM,KAAM,qBAAqB,CACxC,OAASC,aAAa,CAAEC,KAAK,CAAEC,KAAK,KAAQ,UAAU,CACtD,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAOC,GAAE,KAAM,YAAY,yFAE3B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,MASR,IARJC,MAAK,MAALA,KAAK,CACLC,IAAI,MAAJA,IAAI,CACJC,YAAY,MAAZA,YAAY,CACZC,EAAE,MAAFA,EAAE,CACFC,oBAAoB,MAApBA,oBAAoB,CACpBC,mBAAmB,MAAnBA,mBAAmB,CACnBC,YAAY,MAAZA,YAAY,CACZC,WAAW,MAAXA,WAAW,CAEX,cAAkCV,QAAQ,CAAC,KAAK,CAAC,wCAAzCW,QAAQ,eAAEC,WAAW,eAC7B,eAAkCZ,QAAQ,CAAC,KAAK,CAAC,yCAAzCa,QAAQ,eAAEC,WAAW,eAC7B,GAAI,CAACN,mBAAmB,CAAE,CAAE,MAAO,KAAI,CAAC,CAExC,mBAAO,YAAI,SAAS,CAAEZ,MAAM,CAACmB,QAAS,WACnCF,QAAQ,eAAI,KAAC,KAAK,EACjB,KAAK,CAAC,mMAAwC,CAC9C,QAAQ,CAAE,mBAAM,CACdN,oBAAoB,CAAC,CACnBD,EAAE,CAAFA,EAAE,CACFU,KAAK,CAAE,KAAK,CACZC,QAAQ,CAAE,mBAAM,CACdR,YAAY,EAAE,CACdK,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAAC,CACJ,CAAE,CACF,OAAO,CAAE,kBAAM,CACbA,WAAW,CAAC,KAAK,CAAC,CACpB,CAAE,EACF,cACF,aAAK,SAAS,CAAElB,MAAM,CAACsB,YAAa,wBAClC,aAAK,SAAS,CAAEtB,MAAM,CAACuB,eAAgB,wBACrC,YACE,GAAG,CAAEf,IAAK,CACV,SAAS,CAAER,MAAM,CAACwB,aAAc,CAChC,KAAK,CAAE,CACLC,eAAe,eAASlB,KAAK,KAC/B,CAAE,EACF,cACF,YAAI,SAAS,CAAEP,MAAM,CAAC0B,aAAc,wBAClC,KAAC,aAAa,EAAC,SAAS,CAAE1B,MAAM,CAAC2B,UAAW,CAAC,KAAK,CAAEnB,IAAK,CAAC,IAAI,oBAAcE,EAAE,CAAG,EAAG,cACpF,YAAK,SAAS,CAAEL,EAAE,CAACL,MAAM,CAAC4B,oBAAoB,oBAC3C5B,MAAM,CAAC6B,4BAA4B,CAAGd,QAAQ,EAC9C,CAAC,OAAO,CAAE,yBAAMC,YAAW,CAAC,CAACD,QAAQ,CAAC,EAAC,uBACxC,KAAC,KAAK,CAAC,WAAW,IAAG,EACjB,GACH,cACL,WAAG,SAAS,CAAEf,MAAM,CAAC8B,YAAa,WAC/BrB,YAAY,0BACX,GACA,cACN,UACE,IAAI,CAAC,GAAG,CACR,SAAS,CAAET,MAAM,CAAC+B,cAAe,CACjC,OAAO,CAAE,iBAAAC,CAAC,QAAId,YAAW,CAAC,IAAI,CAAC,EAAC,uBAEhC,KAAC,KAAK,CAAC,aAAa,IAAG,EACrB,GACA,CACLH,QAAQ,EAAID,WAAW,EAAIA,WAAW,CAACmB,MAAM,CAAG,CAAC,eAAI,WAAI,SAAS,CAAEjC,MAAM,CAACkC,mBAAoB,UAC7FpB,WAAW,CAACqB,GAAG,CAAC,SAAAC,UAAU,CAAI,CAC/B,mBAAO,oBAAKA,UAAU,CAAC5B,IAAI,EAAM,CACjC,CAAC,CAAC,EACC,GAEF,CACP,CAAC,CAED,cAAeF,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}