{"ast":null,"code":"import{Container,Input,FormTitle,Main,Form,Button}from\"../../components\";import styles from\"./styles.module.css\";import{useFormWithValidation}from\"../../utils\";import{AuthContext}from\"../../contexts\";import{Redirect}from\"react-router-dom\";import{useContext}from\"react\";import MetaTags from\"react-meta-tags\";import{ChangePasswordText}from\"../../components/change-password-text\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangePassword=function ChangePassword(_ref){var onPasswordChange=_ref.onPasswordChange,submitError=_ref.submitError,setSubmitError=_ref.setSubmitError;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,handleChange=_useFormWithValidatio.handleChange,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid,resetForm=_useFormWithValidatio.resetForm;var authContext=useContext(AuthContext);var onChange=function onChange(e){setSubmitError({submitError:\"\"});handleChange(e);};return/*#__PURE__*/_jsx(Main,{withBG:true,asFlex:true,children:/*#__PURE__*/_jsxs(Container,{className:styles.center,children:[/*#__PURE__*/_jsxs(MetaTags,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"\\u0424\\u0443\\u0434\\u0433\\u0440\\u0430\\u043C - \\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]}),/*#__PURE__*/_jsxs(Form,{className:styles.form,onSubmit:function onSubmit(e){e.preventDefault();onPasswordChange(values);},children:[/*#__PURE__*/_jsx(FormTitle,{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(Input,{required:true,isAuth:true,placeholder:\"\\u0421\\u0442\\u0430\\u0440\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"current_password\",error:errors,onChange:onChange}),/*#__PURE__*/_jsx(Input,{required:true,isAuth:true,placeholder:\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"new_password\",error:errors,onChange:onChange}),/*#__PURE__*/_jsxs(\"ul\",{className:styles.texts,children:[/*#__PURE__*/_jsx(\"li\",{className:styles.text,children:/*#__PURE__*/_jsx(ChangePasswordText,{text:\"\\u0412\\u0430\\u0448\\xA0\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u043D\\u0435\\xA0\\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0430\\u0442\\u044C \\u0441\\xA0\\u0432\\u0430\\u0448\\u0438\\u043C \\u0438\\u043C\\u0435\\u043D\\u0435\\u043C \\u0438\\u043B\\u0438\\xA0\\u0434\\u0440\\u0443\\u0433\\u043E\\u0439 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u043E\\u0439 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0435\\u0439 \\u0438\\u043B\\u0438\\xA0\\u0431\\u044B\\u0442\\u044C \\u0441\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043F\\u043E\\u0445\\u043E\\u0436\\u0438\\u043C \\u043D\\u0430\\xA0\\u043D\\u0435\\u0451\"})}),/*#__PURE__*/_jsx(\"li\",{className:styles.text,children:/*#__PURE__*/_jsx(ChangePasswordText,{text:\"\\u0412\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u043A\\u0430\\u043A \\u043C\\u0438\\u043D\\u0438\\u043C\\u0443\\u043C 8 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\"})}),/*#__PURE__*/_jsx(\"li\",{className:styles.text,children:/*#__PURE__*/_jsx(ChangePasswordText,{text:\"\\u0412\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u043D\\u0435 \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0431\\u044B\\u0442\\u044C \\u043E\\u0434\\u043D\\u0438\\u043C \\u0438\\u0437 \\u0448\\u0438\\u0440\\u043E\\u043A\\u043E \\u0440\\u0430\\u0441\\u043F\\u0440\\u043E\\u0441\\u0442\\u0440\\u0430\\u043D\\u0451\\u043D\\u043D\\u044B\\u0445 \\u043F\\u0430\\u0440\\u043E\\u043B\\u0435\\u0439\"})}),/*#__PURE__*/_jsx(\"li\",{className:styles.text,children:/*#__PURE__*/_jsx(ChangePasswordText,{text:\"\\u0412\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u043D\\u0435 \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0438\\u0437 \\u0446\\u0438\\u0444\\u0440\"})})]}),/*#__PURE__*/_jsx(Input,{required:true,isAuth:true,placeholder:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"repeat_password\",error:errors,submitError:submitError,onChange:onChange}),/*#__PURE__*/_jsx(Button,{modifier:\"style_dark\",type:\"submit\",className:styles.button,disabled:!isValid||values.new_password!==values.repeat_password,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]})]})});};export default ChangePassword;","map":{"version":3,"names":["Container","Input","FormTitle","Main","Form","Button","styles","useFormWithValidation","AuthContext","Redirect","useContext","MetaTags","ChangePasswordText","ChangePassword","onPasswordChange","submitError","setSubmitError","values","handleChange","errors","isValid","resetForm","authContext","onChange","e","center","form","preventDefault","texts","text","button","new_password","repeat_password"],"sources":["D:/Foodgram/foodgram/frontend/src/pages/change-password/index.js"],"sourcesContent":["import {\r\n  Container,\r\n  Input,\r\n  FormTitle,\r\n  Main,\r\n  Form,\r\n  Button,\r\n} from \"../../components\";\r\nimport styles from \"./styles.module.css\";\r\nimport { useFormWithValidation } from \"../../utils\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { ChangePasswordText } from \"../../components/change-password-text\";\r\n\r\nconst ChangePassword = ({ onPasswordChange, submitError, setSubmitError }) => {\r\n  const { values, handleChange, errors, isValid, resetForm } =\r\n    useFormWithValidation();\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const onChange = (e) => {\r\n    setSubmitError({ submitError: \"\" });\r\n    handleChange(e);\r\n  };\r\n\r\n  return (\r\n    <Main withBG asFlex>\r\n      <Container className={styles.center}>\r\n        <MetaTags>\r\n          <title>Изменить пароль</title>\r\n          <meta\r\n            name=\"description\"\r\n            content=\"Фудграм - Изменить пароль\"\r\n          />\r\n          <meta property=\"og:title\" content=\"Изменить пароль\" />\r\n        </MetaTags>\r\n        <Form\r\n          className={styles.form}\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            onPasswordChange(values);\r\n          }}\r\n        >\r\n          <FormTitle>Изменить пароль</FormTitle>\r\n          <Input\r\n            required\r\n            isAuth={true}\r\n            placeholder=\"Старый пароль\"\r\n            type=\"password\"\r\n            name=\"current_password\"\r\n            error={errors}\r\n            onChange={onChange}\r\n          />\r\n          <Input\r\n            required\r\n            isAuth={true}\r\n            placeholder=\"Новый пароль\"\r\n            type=\"password\"\r\n            name=\"new_password\"\r\n            error={errors}\r\n            onChange={onChange}\r\n          />\r\n          <ul className={styles.texts}>\r\n            <li className={styles.text}>\r\n              <ChangePasswordText text=\"Ваш пароль не должен совпадать с вашим именем или другой персональной информацией или быть слишком похожим на неё\" />\r\n            </li>\r\n            <li className={styles.text}>\r\n              <ChangePasswordText text=\"Ваш пароль должен содержать как минимум 8 символов\" />\r\n            </li>\r\n            <li className={styles.text}>\r\n              <ChangePasswordText text=\"Ваш пароль не может быть одним из широко распространённых паролей\" />\r\n            </li>\r\n            <li className={styles.text}>\r\n              <ChangePasswordText text=\"Ваш пароль не может состоять только из цифр\" />\r\n            </li>\r\n          </ul>\r\n          <Input\r\n            required\r\n            isAuth={true}\r\n            placeholder=\"Подтвердите новый пароль\"\r\n            type=\"password\"\r\n            name=\"repeat_password\"\r\n            error={errors}\r\n            submitError={submitError}\r\n            onChange={onChange}\r\n          />\r\n          <Button\r\n            modifier=\"style_dark\"\r\n            type=\"submit\"\r\n            className={styles.button}\r\n            disabled={\r\n              !isValid || values.new_password !== values.repeat_password\r\n            }\r\n          >\r\n            Изменить пароль\r\n          </Button>\r\n        </Form>\r\n      </Container>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}