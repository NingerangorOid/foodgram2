{"ast":null,"code":"import _defineProperty from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./styles.module.css';import cn from'classnames';import{useState,useEffect}from'react';import{Icons}from'..';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pagination=function Pagination(_ref){var _ref$count=_ref.count,count=_ref$count===void 0?0:_ref$count,_ref$limit=_ref.limit,limit=_ref$limit===void 0?6:_ref$limit,_ref$initialActive=_ref.initialActive,initialActive=_ref$initialActive===void 0?1:_ref$initialActive,onPageChange=_ref.onPageChange,page=_ref.page;var _useState=useState(initialActive),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var onButtonClick=function onButtonClick(active){setActive(active);onPageChange(active);};useEffect(function(_){if(page===active){return;}setActive(page);},[page]);var pagesCount=Math.ceil(count/limit);if(count===0||pagesCount<=1){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:styles.pagination,children:[/*#__PURE__*/_jsx(\"div\",{className:cn(styles.arrow,styles.arrowLeft,_defineProperty({},styles.arrowDisabled,active===1)),onClick:function onClick(_){if(active===1){return;}onButtonClick(active-1);},children:/*#__PURE__*/_jsx(Icons.PaginationArrow,{})}),new Array(pagesCount).fill().map(function(item,idx){return/*#__PURE__*/_jsx(\"div\",{className:cn(styles.paginationItem,_defineProperty({},styles.paginationItemActive,idx+1===active)),onClick:function onClick(_){return onButtonClick(idx+1);},children:idx+1},idx);}),/*#__PURE__*/_jsx(\"div\",{className:cn(styles.arrow,styles.arrowRight,_defineProperty({},styles.arrowDisabled,active===pagesCount)),onClick:function onClick(_){if(active===pagesCount){return;}onButtonClick(active+1);},children:/*#__PURE__*/_jsx(Icons.PaginationArrow,{})})]});};export default Pagination;","map":{"version":3,"names":["styles","cn","useState","useEffect","Icons","Pagination","count","limit","initialActive","onPageChange","page","active","setActive","onButtonClick","_","pagesCount","Math","ceil","pagination","arrow","arrowLeft","arrowDisabled","Array","fill","map","item","idx","paginationItem","paginationItemActive","arrowRight"],"sources":["D:/Foodgram/foodgram/frontend/src/components/pagination/index.js"],"sourcesContent":["import styles from './styles.module.css'\r\nimport cn from 'classnames'\r\nimport { useState, useEffect } from 'react'\r\nimport { Icons } from '..'\r\n\r\nconst Pagination = ({ count = 0, limit = 6, initialActive = 1, onPageChange, page }) => {\r\n  const [ active, setActive ] = useState(initialActive)\r\n  const onButtonClick = (active) => {\r\n    setActive(active)\r\n    onPageChange(active)\r\n  }\r\n  useEffect(_ => {\r\n    if (page === active) { return }\r\n    setActive(page)\r\n  }, [page])\r\n  const pagesCount = Math.ceil(count / limit)\r\n  if (count === 0 || pagesCount <= 1) { return null }\r\n  return <div className={styles.pagination}>\r\n    <div\r\n      className={cn(\r\n        styles.arrow,\r\n        styles.arrowLeft,\r\n        {\r\n          [styles.arrowDisabled]: active === 1\r\n        }\r\n      )}\r\n      onClick={_ => {\r\n        if (active === 1) { return }\r\n        onButtonClick(active - 1)\r\n      }}\r\n    >\r\n      <Icons.PaginationArrow />\r\n    </div>\r\n    {(new Array(pagesCount)).fill().map((item, idx) => {\r\n      return <div\r\n        className={cn(\r\n          styles.paginationItem, {\r\n            [styles.paginationItemActive]: idx + 1 === active\r\n          }\r\n        )}\r\n        onClick={_ => onButtonClick(idx + 1)}\r\n        key={idx}\r\n      >{idx + 1}</div>\r\n    })}\r\n    <div\r\n      className={cn(\r\n        styles.arrow,\r\n        styles.arrowRight,\r\n        {\r\n          [styles.arrowDisabled]: active === pagesCount\r\n        }\r\n      )}\r\n      onClick={_ => {\r\n        if (active === pagesCount) { return }\r\n        onButtonClick(active + 1)\r\n      }}\r\n    >\r\n      <Icons.PaginationArrow />\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default Pagination\r\n"],"mappings":"gTAAA,MAAOA,OAAM,KAAM,qBAAqB,CACxC,MAAOC,GAAE,KAAM,YAAY,CAC3B,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,KAAK,KAAQ,IAAI,yFAE1B,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAwE,qBAAlEC,KAAK,CAALA,KAAK,qBAAG,CAAC,4BAAEC,KAAK,CAALA,KAAK,qBAAG,CAAC,oCAAEC,aAAa,CAAbA,aAAa,6BAAG,CAAC,oBAAEC,YAAY,MAAZA,YAAY,CAAEC,IAAI,MAAJA,IAAI,CAC/E,cAA8BR,QAAQ,CAACM,aAAa,CAAC,wCAA7CG,MAAM,eAAEC,SAAS,eACzB,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIF,MAAM,CAAK,CAChCC,SAAS,CAACD,MAAM,CAAC,CACjBF,YAAY,CAACE,MAAM,CAAC,CACtB,CAAC,CACDR,SAAS,CAAC,SAAAW,CAAC,CAAI,CACb,GAAIJ,IAAI,GAAKC,MAAM,CAAE,CAAE,OAAO,CAC9BC,SAAS,CAACF,IAAI,CAAC,CACjB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CACV,GAAMK,WAAU,CAAGC,IAAI,CAACC,IAAI,CAACX,KAAK,CAAGC,KAAK,CAAC,CAC3C,GAAID,KAAK,GAAK,CAAC,EAAIS,UAAU,EAAI,CAAC,CAAE,CAAE,MAAO,KAAI,CAAC,CAClD,mBAAO,aAAK,SAAS,CAAEf,MAAM,CAACkB,UAAW,wBACvC,YACE,SAAS,CAAEjB,EAAE,CACXD,MAAM,CAACmB,KAAK,CACZnB,MAAM,CAACoB,SAAS,oBAEbpB,MAAM,CAACqB,aAAa,CAAGV,MAAM,GAAK,CAAC,EAEtC,CACF,OAAO,CAAE,iBAAAG,CAAC,CAAI,CACZ,GAAIH,MAAM,GAAK,CAAC,CAAE,CAAE,OAAO,CAC3BE,aAAa,CAACF,MAAM,CAAG,CAAC,CAAC,CAC3B,CAAE,uBAEF,KAAC,KAAK,CAAC,eAAe,IAAG,EACrB,CACJ,GAAIW,MAAK,CAACP,UAAU,CAAC,CAAEQ,IAAI,EAAE,CAACC,GAAG,CAAC,SAACC,IAAI,CAAEC,GAAG,CAAK,CACjD,mBAAO,YACL,SAAS,CAAEzB,EAAE,CACXD,MAAM,CAAC2B,cAAc,oBAClB3B,MAAM,CAAC4B,oBAAoB,CAAGF,GAAG,CAAG,CAAC,GAAKf,MAAM,EAEnD,CACF,OAAO,CAAE,iBAAAG,CAAC,QAAID,cAAa,CAACa,GAAG,CAAG,CAAC,CAAC,EAAC,UAErCA,GAAG,CAAG,CAAC,EADFA,GAAG,CACM,CAClB,CAAC,CAAC,cACF,YACE,SAAS,CAAEzB,EAAE,CACXD,MAAM,CAACmB,KAAK,CACZnB,MAAM,CAAC6B,UAAU,oBAEd7B,MAAM,CAACqB,aAAa,CAAGV,MAAM,GAAKI,UAAU,EAE/C,CACF,OAAO,CAAE,iBAAAD,CAAC,CAAI,CACZ,GAAIH,MAAM,GAAKI,UAAU,CAAE,CAAE,OAAO,CACpCF,aAAa,CAACF,MAAM,CAAG,CAAC,CAAC,CAC3B,CAAE,uBAEF,KAAC,KAAK,CAAC,eAAe,IAAG,EACrB,GACF,CACR,CAAC,CAED,cAAeN,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}