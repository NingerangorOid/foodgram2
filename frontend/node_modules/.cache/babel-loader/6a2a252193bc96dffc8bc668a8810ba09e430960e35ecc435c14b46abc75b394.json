{"ast":null,"code":"import _objectSpread from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Card,Title,Pagination,CardList,Container,Main,CheckboxGroup}from'../../components';import styles from'./styles.module.css';import{useRecipes}from'../../utils/index.js';import{useEffect}from'react';import api from'../../api';import MetaTags from'react-meta-tags';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";var Favorites=function Favorites(_ref){var updateOrders=_ref.updateOrders;var _useRecipes=useRecipes(),recipes=_useRecipes.recipes,setRecipes=_useRecipes.setRecipes,recipesCount=_useRecipes.recipesCount,setRecipesCount=_useRecipes.setRecipesCount,recipesPage=_useRecipes.recipesPage,setRecipesPage=_useRecipes.setRecipesPage,handleLike=_useRecipes.handleLike,handleAddToCart=_useRecipes.handleAddToCart;var getRecipes=function getRecipes(_ref2){var _ref2$page=_ref2.page,page=_ref2$page===void 0?1:_ref2$page;api.getRecipes({page:page,is_favorited:Number(true)}).then(function(res){var results=res.results,count=res.count;setRecipes(results);setRecipesCount(count);});};useEffect(function(_){getRecipes({page:recipesPage});},[recipesPage]);return/*#__PURE__*/_jsx(Main,{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(MetaTags,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"\\u0424\\u0443\\u0434\\u0433\\u0440\\u0430\\u043C - \\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:/*#__PURE__*/_jsx(Title,{title:\"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"})}),recipes.length>0&&/*#__PURE__*/_jsx(CardList,{children:recipes.map(function(card){return/*#__PURE__*/_createElement(Card,_objectSpread(_objectSpread({},card),{},{key:card.id,updateOrders:updateOrders,handleLike:handleLike,handleAddToCart:handleAddToCart}));})}),/*#__PURE__*/_jsx(Pagination,{count:recipesCount,limit:6,page:recipesPage,onPageChange:function onPageChange(page){return setRecipesPage(page);}})]})});};export default Favorites;","map":{"version":3,"names":["Card","Title","Pagination","CardList","Container","Main","CheckboxGroup","styles","useRecipes","useEffect","api","MetaTags","Favorites","updateOrders","recipes","setRecipes","recipesCount","setRecipesCount","recipesPage","setRecipesPage","handleLike","handleAddToCart","getRecipes","page","is_favorited","Number","then","res","results","count","_","title","length","map","card","id"],"sources":["D:/Foodgram/foodgram/frontend/src/pages/favorites/index.js"],"sourcesContent":["import { Card, Title, Pagination, CardList, Container, Main, CheckboxGroup  } from '../../components'\r\nimport styles from './styles.module.css'\r\nimport { useRecipes } from '../../utils/index.js'\r\nimport { useEffect } from 'react'\r\nimport api from '../../api'\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nconst Favorites = ({ updateOrders }) => {\r\n  const {\r\n    recipes,\r\n    setRecipes,\r\n    recipesCount,\r\n    setRecipesCount,\r\n    recipesPage,\r\n    setRecipesPage,\r\n    handleLike,\r\n    handleAddToCart\r\n  } = useRecipes()\r\n  \r\n  const getRecipes = ({ page = 1 }) => {\r\n    api\r\n      .getRecipes({ page, is_favorited: Number(true) })\r\n      .then(res => {\r\n        const { results, count } = res\r\n        setRecipes(results)\r\n        setRecipesCount(count)\r\n      })\r\n  }\r\n\r\n  useEffect(_ => {\r\n    getRecipes({ page: recipesPage })\r\n  }, [recipesPage])\r\n\r\n\r\n  return <Main>\r\n    <Container>\r\n      <MetaTags>\r\n        <title>Избранное</title>\r\n        <meta name=\"description\" content=\"Фудграм - Избранное\" />\r\n        <meta property=\"og:title\" content=\"Избранное\" />\r\n      </MetaTags>\r\n      <div className={styles.title}>\r\n        <Title title='Избранное' />\r\n      </div>\r\n      {recipes.length > 0 && <CardList>\r\n        {recipes.map(card => <Card\r\n          {...card}\r\n          key={card.id}\r\n          updateOrders={updateOrders}\r\n          handleLike={handleLike}\r\n          handleAddToCart={handleAddToCart}\r\n        />)}\r\n      </CardList>}\r\n      <Pagination\r\n        count={recipesCount}\r\n        limit={6}\r\n        page={recipesPage}\r\n        onPageChange={page => setRecipesPage(page)}\r\n      />\r\n    </Container>\r\n  </Main>\r\n}\r\n\r\nexport default Favorites\r\n\r\n"],"mappings":"sJAAA,OAASA,IAAI,CAAEC,KAAK,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,IAAI,CAAEC,aAAa,KAAS,kBAAkB,CACrG,MAAOC,OAAM,KAAM,qBAAqB,CACxC,OAASC,UAAU,KAAQ,sBAAsB,CACjD,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAOC,IAAG,KAAM,WAAW,CAC3B,MAAOC,SAAQ,KAAM,iBAAiB,4IAEtC,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAAyB,IAAnBC,aAAY,MAAZA,YAAY,CAC/B,gBASIL,UAAU,EAAE,CARdM,OAAO,aAAPA,OAAO,CACPC,UAAU,aAAVA,UAAU,CACVC,YAAY,aAAZA,YAAY,CACZC,eAAe,aAAfA,eAAe,CACfC,WAAW,aAAXA,WAAW,CACXC,cAAc,aAAdA,cAAc,CACdC,UAAU,aAAVA,UAAU,CACVC,eAAe,aAAfA,eAAe,CAGjB,GAAMC,WAAU,CAAG,QAAbA,WAAU,OAAqB,sBAAfC,IAAI,CAAJA,IAAI,qBAAG,CAAC,YAC5Bb,GAAG,CACAY,UAAU,CAAC,CAAEC,IAAI,CAAJA,IAAI,CAAEC,YAAY,CAAEC,MAAM,CAAC,IAAI,CAAE,CAAC,CAAC,CAChDC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACX,GAAQC,QAAO,CAAYD,GAAG,CAAtBC,OAAO,CAAEC,KAAK,CAAKF,GAAG,CAAbE,KAAK,CACtBd,UAAU,CAACa,OAAO,CAAC,CACnBX,eAAe,CAACY,KAAK,CAAC,CACxB,CAAC,CAAC,CACN,CAAC,CAEDpB,SAAS,CAAC,SAAAqB,CAAC,CAAI,CACbR,UAAU,CAAC,CAAEC,IAAI,CAAEL,WAAY,CAAC,CAAC,CACnC,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAGjB,mBAAO,KAAC,IAAI,wBACV,MAAC,SAAS,yBACR,MAAC,QAAQ,yBACP,iFAAwB,cACxB,aAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,qGAAqB,EAAG,cACzD,aAAM,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,wDAAW,EAAG,GACvC,cACX,YAAK,SAAS,CAAEX,MAAM,CAACwB,KAAM,uBAC3B,KAAC,KAAK,EAAC,KAAK,CAAC,wDAAW,EAAG,EACvB,CACLjB,OAAO,CAACkB,MAAM,CAAG,CAAC,eAAI,KAAC,QAAQ,WAC7BlB,OAAO,CAACmB,GAAG,CAAC,SAAAC,IAAI,qBAAI,eAAC,IAAI,gCACpBA,IAAI,MACR,GAAG,CAAEA,IAAI,CAACC,EAAG,CACb,YAAY,CAAEtB,YAAa,CAC3B,UAAU,CAAEO,UAAW,CACvB,eAAe,CAAEC,eAAgB,GACjC,GAAC,EACM,cACX,KAAC,UAAU,EACT,KAAK,CAAEL,YAAa,CACpB,KAAK,CAAE,CAAE,CACT,IAAI,CAAEE,WAAY,CAClB,YAAY,CAAE,sBAAAK,IAAI,QAAIJ,eAAc,CAACI,IAAI,CAAC,EAAC,EAC3C,GACQ,EACP,CACT,CAAC,CAED,cAAeX,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}