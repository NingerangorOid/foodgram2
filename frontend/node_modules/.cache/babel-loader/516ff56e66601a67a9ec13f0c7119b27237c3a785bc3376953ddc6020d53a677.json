{"ast":null,"code":"import _objectSpread from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./fonts/SanFranciscoProDisplay/fonts.css\";import\"./App.css\";import{Switch,Route,useHistory,Redirect}from\"react-router-dom\";import React,{useState,useEffect}from\"react\";import{Header,Footer,ProtectedRoute}from\"./components\";import api from\"./api\";import styles from\"./styles.module.css\";import{// About,\nMain,Cart,SignIn,Subscriptions,Favorites,SingleCard,SignUp,RecipeEdit,RecipeCreate,User,ChangePassword,NotFound,UpdateAvatar,ResetPassword// Technologies,\n}from\"./pages\";import{AuthContext,UserContext}from\"./contexts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),loggedIn=_useState2[0],setLoggedIn=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),orders=_useState6[0],setOrders=_useState6[1];var _useState7=useState({submitError:\"\"}),_useState8=_slicedToArray(_useState7,2),authError=_useState8[0],setAuthError=_useState8[1];var _useState9=useState({submitError:\"\"}),_useState10=_slicedToArray(_useState9,2),registrError=_useState10[0],setRegistrError=_useState10[1];var _useState11=useState({submitError:\"\"}),_useState12=_slicedToArray(_useState11,2),changePasswordError=_useState12[0],setChangePasswordError=_useState12[1];var registration=function registration(_ref){var email=_ref.email,password=_ref.password,username=_ref.username,first_name=_ref.first_name,last_name=_ref.last_name;api.signup({email:email,password:password,username:username,first_name:first_name,last_name:last_name}).then(function(){history.push(\"/signin\");}).catch(function(err){var errors=Object.values(err);if(errors){setRegistrError({submitError:errors.join(\", \")});}setLoggedIn(false);});};var changePassword=function changePassword(_ref2){var new_password=_ref2.new_password,current_password=_ref2.current_password;api.changePassword({new_password:new_password,current_password:current_password}).then(function(res){history.push(\"/signin\");}).catch(function(err){var errors=Object.values(err);if(errors){setChangePasswordError({submitError:errors.join(\", \")});}});};var changeAvatar=function changeAvatar(_ref3){var file=_ref3.file;api.changeAvatar({file:file}).then(function(res){setUser(_objectSpread(_objectSpread({},user),{},{avatar:res.avatar}));history.push(\"/recipes\");}).catch(function(err){var non_field_errors=err.non_field_errors;if(non_field_errors){return alert(non_field_errors.join(\", \"));}var errors=Object.values(err);if(errors){alert(errors.join(\", \"));}});};var authorization=function authorization(_ref4){var email=_ref4.email,password=_ref4.password;api.signin({email:email,password:password}).then(function(res){if(res.auth_token){localStorage.setItem(\"token\",res.auth_token);api.getUserData().then(function(res){setUser(res);setLoggedIn(true);getOrders();}).catch(function(err){setLoggedIn(false);history.push(\"/signin\");});}else{setLoggedIn(false);}}).catch(function(err){var errors=Object.values(err);if(errors){setAuthError({submitError:errors.join(\", \")});}setLoggedIn(false);});};var onPasswordReset=function onPasswordReset(_ref5){var email=_ref5.email;api.resetPassword({email:email}).then(function(res){history.push(\"/signin\");}).catch(function(err){var errors=Object.values(err);if(errors){alert(errors.join(\", \"));}setLoggedIn(false);});};var loadSingleItem=function loadSingleItem(_ref6){var id=_ref6.id,callback=_ref6.callback;setTimeout(function(_){callback();},3000);};var history=useHistory();var onSignOut=function onSignOut(){api.signout().then(function(res){localStorage.removeItem(\"token\");setLoggedIn(false);}).catch(function(err){var errors=Object.values(err);if(errors){alert(errors.join(\", \"));}});};var getOrders=function getOrders(){api.getRecipes({page:1,is_in_shopping_cart:Number(true)}).then(function(res){var count=res.count;setOrders(count);});};var updateOrders=function updateOrders(add){if(!add&&orders<=0){return;}if(add){setOrders(orders+1);}else{setOrders(orders-1);}};useEffect(function(_){var token=localStorage.getItem(\"token\");if(token){return api.getUserData().then(function(res){setUser(res);setLoggedIn(true);getOrders();}).catch(function(err){setLoggedIn(false);history.push(\"/recipes\");});}else{setLoggedIn(false);}},[]);// useEffect(() => {\n//   document.addEventListener('keydown', function(event) {\n//     if (event.ctrlKey && event.shiftKey && event.key === 'z') {\n//       alert('зиги - добар пас!');\n//     }\n//   });\n// }, [])\nif(loggedIn===null){return/*#__PURE__*/_jsx(\"div\",{className:styles.loading,children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});}return/*#__PURE__*/_jsx(AuthContext.Provider,{value:loggedIn,children:/*#__PURE__*/_jsx(UserContext.Provider,{value:user,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{orders:orders,loggedIn:loggedIn,onSignOut:onSignOut}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/user/:id\",component:User,updateOrders:updateOrders}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/cart\",component:Cart,orders:orders,loggedIn:loggedIn,updateOrders:updateOrders}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/subscriptions\",component:Subscriptions,loggedIn:loggedIn}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/favorites\",component:Favorites,loggedIn:loggedIn,updateOrders:updateOrders}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/recipes/create\",component:RecipeCreate,loggedIn:loggedIn}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/recipes/:id/edit\",component:RecipeEdit,loggedIn:loggedIn,loadItem:loadSingleItem,onItemDelete:getOrders}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/change-password\",component:ChangePassword,loggedIn:loggedIn,submitError:changePasswordError,setSubmitError:setChangePasswordError,onPasswordChange:changePassword}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/change-avatar\",component:UpdateAvatar,loggedIn:loggedIn,onAvatarChange:changeAvatar}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/recipes/:id\",children:/*#__PURE__*/_jsx(SingleCard,{loggedIn:loggedIn,loadItem:loadSingleItem,updateOrders:updateOrders})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/about\",children:/*#__PURE__*/_jsx(NotFound,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/reset-password\",children:/*#__PURE__*/_jsx(ResetPassword,{onPasswordReset:onPasswordReset})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/technologies\",children:/*#__PURE__*/_jsx(NotFound,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/recipes\",children:/*#__PURE__*/_jsx(Main,{updateOrders:updateOrders})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signin\",children:/*#__PURE__*/_jsx(SignIn,{onSignIn:authorization,submitError:authError,setSubmitError:setAuthError})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",children:/*#__PURE__*/_jsx(SignUp,{onSignUp:registration,submitError:registrError,setSubmitError:setRegistrError})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/recipes\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",children:/*#__PURE__*/_jsx(NotFound,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})})});}export default App;","map":{"version":3,"names":["Switch","Route","useHistory","Redirect","React","useState","useEffect","Header","Footer","ProtectedRoute","api","styles","Main","Cart","SignIn","Subscriptions","Favorites","SingleCard","SignUp","RecipeEdit","RecipeCreate","User","ChangePassword","NotFound","UpdateAvatar","ResetPassword","AuthContext","UserContext","App","loggedIn","setLoggedIn","user","setUser","orders","setOrders","submitError","authError","setAuthError","registrError","setRegistrError","changePasswordError","setChangePasswordError","registration","email","password","username","first_name","last_name","signup","then","history","push","catch","err","errors","Object","values","join","changePassword","new_password","current_password","res","changeAvatar","file","avatar","non_field_errors","alert","authorization","signin","auth_token","localStorage","setItem","getUserData","getOrders","onPasswordReset","resetPassword","loadSingleItem","id","callback","setTimeout","_","onSignOut","signout","removeItem","getRecipes","page","is_in_shopping_cart","Number","count","updateOrders","add","token","getItem","loading"],"sources":["D:/Foodgram/foodgram/frontend/src/App.js"],"sourcesContent":["import \"./fonts/SanFranciscoProDisplay/fonts.css\";\r\nimport \"./App.css\";\r\nimport { Switch, Route, useHistory, Redirect } from \"react-router-dom\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Header, Footer, ProtectedRoute } from \"./components\";\r\nimport api from \"./api\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nimport {\r\n  // About,\r\n  Main,\r\n  Cart,\r\n  SignIn,\r\n  Subscriptions,\r\n  Favorites,\r\n  SingleCard,\r\n  SignUp,\r\n  RecipeEdit,\r\n  RecipeCreate,\r\n  User,\r\n  ChangePassword,\r\n  NotFound,\r\n  UpdateAvatar,\r\n  ResetPassword,\r\n  // Technologies,\r\n} from \"./pages\";\r\n\r\nimport { AuthContext, UserContext } from \"./contexts\";\r\n\r\nfunction App() {\r\n  const [loggedIn, setLoggedIn] = useState(null);\r\n  const [user, setUser] = useState({});\r\n  const [orders, setOrders] = useState(0);\r\n  const [authError, setAuthError] = useState({ submitError: \"\" });\r\n  const [registrError, setRegistrError] = useState({ submitError: \"\" });\r\n  const [changePasswordError, setChangePasswordError] = useState({\r\n    submitError: \"\",\r\n  });\r\n\r\n  const registration = ({\r\n    email,\r\n    password,\r\n    username,\r\n    first_name,\r\n    last_name,\r\n  }) => {\r\n    api\r\n      .signup({ email, password, username, first_name, last_name })\r\n      .then(() => {\r\n        history.push(\"/signin\");\r\n      })\r\n      .catch((err) => {\r\n        const errors = Object.values(err);\r\n        if (errors) {\r\n          setRegistrError({ submitError: errors.join(\", \") });\r\n        }\r\n        setLoggedIn(false);\r\n      });\r\n  };\r\n\r\n  const changePassword = ({ new_password, current_password }) => {\r\n    api\r\n      .changePassword({ new_password, current_password })\r\n      .then((res) => {\r\n        history.push(\"/signin\");\r\n      })\r\n      .catch((err) => {\r\n        const errors = Object.values(err);\r\n        if (errors) {\r\n          setChangePasswordError({ submitError: errors.join(\", \") });\r\n        }\r\n      });\r\n  };\r\n\r\n  const changeAvatar = ({ file }) => {\r\n    api\r\n      .changeAvatar({ file })\r\n      .then((res) => {\r\n        setUser({ ...user, avatar: res.avatar });\r\n        history.push(`/recipes`);\r\n      })\r\n      .catch((err) => {\r\n        const { non_field_errors } = err;\r\n        if (non_field_errors) {\r\n          return alert(non_field_errors.join(\", \"));\r\n        }\r\n        const errors = Object.values(err);\r\n        if (errors) {\r\n          alert(errors.join(\", \"));\r\n        }\r\n      });\r\n  };\r\n\r\n  const authorization = ({ email, password }) => {\r\n    api\r\n      .signin({\r\n        email,\r\n        password,\r\n      })\r\n      .then((res) => {\r\n        if (res.auth_token) {\r\n          localStorage.setItem(\"token\", res.auth_token);\r\n          api\r\n            .getUserData()\r\n            .then((res) => {\r\n              setUser(res);\r\n              setLoggedIn(true);\r\n              getOrders();\r\n            })\r\n            .catch((err) => {\r\n              setLoggedIn(false);\r\n              history.push(\"/signin\");\r\n            });\r\n        } else {\r\n          setLoggedIn(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        const errors = Object.values(err);\r\n        if (errors) {\r\n          setAuthError({ submitError: errors.join(\", \") });\r\n        }\r\n        setLoggedIn(false);\r\n      });\r\n  };\r\n\r\n  const onPasswordReset = ({ email }) => {\r\n    api\r\n      .resetPassword({\r\n        email,\r\n      })\r\n      .then((res) => {\r\n        history.push(\"/signin\");\r\n      })\r\n      .catch((err) => {\r\n        const errors = Object.values(err);\r\n        if (errors) {\r\n          alert(errors.join(\", \"));\r\n        }\r\n        setLoggedIn(false);\r\n      });\r\n  };\r\n\r\n  const loadSingleItem = ({ id, callback }) => {\r\n    setTimeout((_) => {\r\n      callback();\r\n    }, 3000);\r\n  };\r\n\r\n  const history = useHistory();\r\n  const onSignOut = () => {\r\n    api\r\n      .signout()\r\n      .then((res) => {\r\n        localStorage.removeItem(\"token\");\r\n        setLoggedIn(false);\r\n      })\r\n      .catch((err) => {\r\n        const errors = Object.values(err);\r\n        if (errors) {\r\n          alert(errors.join(\", \"));\r\n        }\r\n      });\r\n  };\r\n\r\n  const getOrders = () => {\r\n    api\r\n      .getRecipes({\r\n        page: 1,\r\n        is_in_shopping_cart: Number(true),\r\n      })\r\n      .then((res) => {\r\n        const { count } = res;\r\n        setOrders(count);\r\n      });\r\n  };\r\n\r\n  const updateOrders = (add) => {\r\n    if (!add && orders <= 0) {\r\n      return;\r\n    }\r\n    if (add) {\r\n      setOrders(orders + 1);\r\n    } else {\r\n      setOrders(orders - 1);\r\n    }\r\n  };\r\n\r\n  useEffect((_) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      return api\r\n        .getUserData()\r\n        .then((res) => {\r\n          setUser(res);\r\n          setLoggedIn(true);\r\n          getOrders();\r\n        })\r\n        .catch((err) => {\r\n          setLoggedIn(false);\r\n          history.push(\"/recipes\");\r\n        });\r\n    } else {\r\n      setLoggedIn(false);\r\n    }\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   document.addEventListener('keydown', function(event) {\r\n  //     if (event.ctrlKey && event.shiftKey && event.key === 'z') {\r\n  //       alert('зиги - добар пас!');\r\n  //     }\r\n  //   });\r\n  // }, [])\r\n\r\n  if (loggedIn === null) {\r\n    return <div className={styles.loading}>Загрузка...</div>;\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={loggedIn}>\r\n      <UserContext.Provider value={user}>\r\n        <div className=\"App\">\r\n          <Header orders={orders} loggedIn={loggedIn} onSignOut={onSignOut} />\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path=\"/user/:id\"\r\n              component={User}\r\n              updateOrders={updateOrders}\r\n            />\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/cart\"\r\n              component={Cart}\r\n              orders={orders}\r\n              loggedIn={loggedIn}\r\n              updateOrders={updateOrders}\r\n            />\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/subscriptions\"\r\n              component={Subscriptions}\r\n              loggedIn={loggedIn}\r\n            />\r\n\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/favorites\"\r\n              component={Favorites}\r\n              loggedIn={loggedIn}\r\n              updateOrders={updateOrders}\r\n            />\r\n\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/recipes/create\"\r\n              component={RecipeCreate}\r\n              loggedIn={loggedIn}\r\n            />\r\n\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/recipes/:id/edit\"\r\n              component={RecipeEdit}\r\n              loggedIn={loggedIn}\r\n              loadItem={loadSingleItem}\r\n              onItemDelete={getOrders}\r\n            />\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/change-password\"\r\n              component={ChangePassword}\r\n              loggedIn={loggedIn}\r\n              submitError={changePasswordError}\r\n              setSubmitError={setChangePasswordError}\r\n              onPasswordChange={changePassword}\r\n            />\r\n\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/change-avatar\"\r\n              component={UpdateAvatar}\r\n              loggedIn={loggedIn}\r\n              onAvatarChange={changeAvatar}\r\n            />\r\n\r\n            <Route exact path=\"/recipes/:id\">\r\n              <SingleCard\r\n                loggedIn={loggedIn}\r\n                loadItem={loadSingleItem}\r\n                updateOrders={updateOrders}\r\n              />\r\n            </Route>\r\n\r\n            <Route exact path=\"/about\">\r\n              <NotFound />\r\n              {/* <About component={About} /> */}\r\n            </Route>\r\n\r\n            <Route exact path=\"/reset-password\">\r\n              <ResetPassword onPasswordReset={onPasswordReset} />\r\n            </Route>\r\n\r\n            <Route exact path=\"/technologies\">\r\n              <NotFound />\r\n              {/* <Technologies component={Technologies}/> */}\r\n            </Route>\r\n\r\n            <Route exact path=\"/recipes\">\r\n              <Main updateOrders={updateOrders} />\r\n            </Route>\r\n\r\n            <Route exact path=\"/signin\">\r\n              <SignIn\r\n                onSignIn={authorization}\r\n                submitError={authError}\r\n                setSubmitError={setAuthError}\r\n              />\r\n            </Route>\r\n            <Route exact path=\"/signup\">\r\n              <SignUp\r\n                onSignUp={registration}\r\n                submitError={registrError}\r\n                setSubmitError={setRegistrError}\r\n              />\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n              <Redirect to=\"/recipes\" />\r\n            </Route>\r\n            <Route path=\"*\">\r\n              <NotFound />\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n        </div>\r\n      </UserContext.Provider>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}