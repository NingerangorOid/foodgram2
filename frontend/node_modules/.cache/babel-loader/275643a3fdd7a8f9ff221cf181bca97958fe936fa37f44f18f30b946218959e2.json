{"ast":null,"code":"import _defineProperty from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Foodgram/foodgram/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback}from\"react\";//хук управления формой\nexport function useForm(){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1];var handleChange=function handleChange(event){var target=event.target;var value=target.value;var name=target.name;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};return{values:values,handleChange:handleChange,setValues:setValues};}//хук управления формой и валидации формы\nexport function useFormWithValidation(){var _React$useState3=React.useState({}),_React$useState4=_slicedToArray(_React$useState3,2),values=_React$useState4[0],setValues=_React$useState4[1];var _React$useState5=React.useState({}),_React$useState6=_slicedToArray(_React$useState5,2),errors=_React$useState6[0],setErrors=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isValid=_React$useState8[0],setIsValid=_React$useState8[1];var handleChange=function handleChange(event){var target=event.target;var name=target.name;var value=target.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,target.validationMessage)));setIsValid(target.closest(\"form\").checkValidity());};var resetForm=useCallback(function(){var newValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var newErrors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newIsValid=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setValues(newValues);setErrors(newErrors);setIsValid(newIsValid);},[setValues,setErrors,setIsValid]);return{values:values,handleChange:handleChange,errors:errors,isValid:isValid,resetForm:resetForm};}","map":{"version":3,"names":["React","useCallback","useForm","useState","values","setValues","handleChange","event","target","value","name","useFormWithValidation","errors","setErrors","isValid","setIsValid","validationMessage","closest","checkValidity","resetForm","newValues","newErrors","newIsValid"],"sources":["D:/Foodgram/foodgram/frontend/src/utils/validation.js"],"sourcesContent":["import React, { useCallback } from \"react\";\r\n\r\n//хук управления формой\r\nexport function useForm() {\r\n  const [values, setValues] = React.useState({});\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setValues({...values, [name]: value});\r\n  };\r\n\r\n  return {values, handleChange, setValues};\r\n}\r\n\r\n//хук управления формой и валидации формы\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({...values, [name]: value});\r\n    setErrors({...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, errors, isValid, resetForm };\r\n}"],"mappings":"scAAA,MAAOA,MAAK,EAAIC,WAAW,KAAQ,OAAO,CAE1C;AACA,MAAO,SAASC,QAAO,EAAG,CACxB,oBAA4BF,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC,oDAAvCC,MAAM,qBAAEC,SAAS,qBAExB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9B,GAAMC,OAAM,CAAGD,KAAK,CAACC,MAAM,CAC3B,GAAMC,MAAK,CAAGD,MAAM,CAACC,KAAK,CAC1B,GAAMC,KAAI,CAAGF,MAAM,CAACE,IAAI,CACxBL,SAAS,gCAAKD,MAAM,wBAAGM,IAAI,CAAGD,KAAK,GAAE,CACvC,CAAC,CAED,MAAO,CAACL,MAAM,CAANA,MAAM,CAAEE,YAAY,CAAZA,YAAY,CAAED,SAAS,CAATA,SAAS,CAAC,CAC1C,CAEA;AACA,MAAO,SAASM,sBAAqB,EAAG,CACtC,qBAA4BX,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC,qDAAvCC,MAAM,qBAAEC,SAAS,qBACxB,qBAA4BL,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC,qDAAvCS,MAAM,qBAAEC,SAAS,qBACxB,qBAA8Bb,KAAK,CAACG,QAAQ,CAAC,KAAK,CAAC,qDAA5CW,OAAO,qBAAEC,UAAU,qBAE1B,GAAMT,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9B,GAAMC,OAAM,CAAGD,KAAK,CAACC,MAAM,CAC3B,GAAME,KAAI,CAAGF,MAAM,CAACE,IAAI,CACxB,GAAMD,MAAK,CAAGD,MAAM,CAACC,KAAK,CAC1BJ,SAAS,gCAAKD,MAAM,wBAAGM,IAAI,CAAGD,KAAK,GAAE,CACrCI,SAAS,gCAAKD,MAAM,wBAAGF,IAAI,CAAGF,MAAM,CAACQ,iBAAiB,GAAG,CACzDD,UAAU,CAACP,MAAM,CAACS,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,EAAE,CAAC,CACpD,CAAC,CAED,GAAMC,UAAS,CAAGlB,WAAW,CAC3B,UAAwD,IAAvDmB,UAAS,2DAAG,CAAC,CAAC,IAAEC,UAAS,2DAAG,CAAC,CAAC,IAAEC,WAAU,2DAAG,KAAK,CACjDjB,SAAS,CAACe,SAAS,CAAC,CACpBP,SAAS,CAACQ,SAAS,CAAC,CACpBN,UAAU,CAACO,UAAU,CAAC,CACxB,CAAC,CACD,CAACjB,SAAS,CAAEQ,SAAS,CAAEE,UAAU,CAAC,CACnC,CAED,MAAO,CAAEX,MAAM,CAANA,MAAM,CAAEE,YAAY,CAAZA,YAAY,CAAEM,MAAM,CAANA,MAAM,CAAEE,OAAO,CAAPA,OAAO,CAAEK,SAAS,CAATA,SAAU,CAAC,CAC7D"},"metadata":{},"sourceType":"module","externalDependencies":[]}