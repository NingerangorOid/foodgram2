{"ast":null,"code":"import{PurchaseList,Title,Container,Main,Button}from'../../components';import styles from'./styles.module.css';import{useRecipes}from'../../utils/index.js';import{useEffect,useState}from'react';import api from'../../api';import MetaTags from'react-meta-tags';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var updateOrders=_ref.updateOrders,orders=_ref.orders;var _useRecipes=useRecipes(),recipes=_useRecipes.recipes,setRecipes=_useRecipes.setRecipes,handleAddToCart=_useRecipes.handleAddToCart;var getRecipes=function getRecipes(){api.getRecipes({page:1,limit:999,is_in_shopping_cart:Number(true)}).then(function(res){var results=res.results;setRecipes(results);});};useEffect(function(_){getRecipes();},[]);var downloadDocument=function downloadDocument(){api.downloadFile();};return/*#__PURE__*/_jsx(Main,{children:/*#__PURE__*/_jsxs(Container,{className:styles.container,children:[/*#__PURE__*/_jsxs(MetaTags,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"\\u0424\\u0443\\u0434\\u0433\\u0440\\u0430\\u043C - \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.cart,children:[/*#__PURE__*/_jsx(Title,{title:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"}),/*#__PURE__*/_jsx(PurchaseList,{orders:recipes,handleRemoveFromCart:handleAddToCart,updateOrders:updateOrders}),orders>0&&/*#__PURE__*/_jsx(Button,{modifier:\"style_dark\",clickHandler:downloadDocument,children:\"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\"})]})]})});};export default Cart;","map":{"version":3,"names":["PurchaseList","Title","Container","Main","Button","styles","useRecipes","useEffect","useState","api","MetaTags","Cart","updateOrders","orders","recipes","setRecipes","handleAddToCart","getRecipes","page","limit","is_in_shopping_cart","Number","then","res","results","_","downloadDocument","downloadFile","container","cart"],"sources":["D:/Foodgram/foodgram/frontend/src/pages/cart/index.js"],"sourcesContent":["import { PurchaseList, Title, Container, Main, Button } from '../../components'\r\nimport styles from './styles.module.css'\r\nimport { useRecipes } from '../../utils/index.js'\r\nimport { useEffect, useState } from 'react'\r\nimport api from '../../api'\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nconst Cart = ({ updateOrders, orders }) => {\r\n  const {\r\n    recipes,\r\n    setRecipes,\r\n    handleAddToCart\r\n  } = useRecipes()\r\n  \r\n  const getRecipes = () => {\r\n    api\r\n      .getRecipes({\r\n        page: 1,\r\n        limit: 999,\r\n        is_in_shopping_cart: Number(true)\r\n      })\r\n      .then(res => {\r\n        const { results } = res\r\n        setRecipes(results)\r\n      })\r\n  }\r\n\r\n  useEffect(_ => {\r\n    getRecipes()\r\n  }, [])\r\n\r\n  const downloadDocument = () => {\r\n    api.downloadFile()\r\n  }\r\n\r\n  return <Main>\r\n    <Container className={styles.container}>\r\n      <MetaTags>\r\n        <title>Список покупок</title>\r\n        <meta name=\"description\" content=\"Фудграм - Список покупок\" />\r\n        <meta property=\"og:title\" content=\"Список покупок\" />\r\n      </MetaTags>\r\n      <div className={styles.cart}>\r\n        <Title title='Список покупок' />\r\n        <PurchaseList\r\n          orders={recipes}\r\n          handleRemoveFromCart={handleAddToCart}\r\n          updateOrders={updateOrders}\r\n        />\r\n        {orders > 0 && <Button\r\n          modifier='style_dark'\r\n          clickHandler={downloadDocument}\r\n        >Скачать список</Button>}\r\n      </div>\r\n    </Container>\r\n  </Main>\r\n}\r\n\r\nexport default Cart\r\n\r\n"],"mappings":"AAAA,OAASA,YAAY,CAAEC,KAAK,CAAEC,SAAS,CAAEC,IAAI,CAAEC,MAAM,KAAQ,kBAAkB,CAC/E,MAAOC,OAAM,KAAM,qBAAqB,CACxC,OAASC,UAAU,KAAQ,sBAAsB,CACjD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,IAAG,KAAM,WAAW,CAC3B,MAAOC,SAAQ,KAAM,iBAAiB,yFAEtC,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAAiC,IAA3BC,aAAY,MAAZA,YAAY,CAAEC,MAAM,MAANA,MAAM,CAClC,gBAIIP,UAAU,EAAE,CAHdQ,OAAO,aAAPA,OAAO,CACPC,UAAU,aAAVA,UAAU,CACVC,eAAe,aAAfA,eAAe,CAGjB,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvBR,GAAG,CACAQ,UAAU,CAAC,CACVC,IAAI,CAAE,CAAC,CACPC,KAAK,CAAE,GAAG,CACVC,mBAAmB,CAAEC,MAAM,CAAC,IAAI,CAClC,CAAC,CAAC,CACDC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACX,GAAQC,QAAO,CAAKD,GAAG,CAAfC,OAAO,CACfT,UAAU,CAACS,OAAO,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAEDjB,SAAS,CAAC,SAAAkB,CAAC,CAAI,CACbR,UAAU,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMS,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7BjB,GAAG,CAACkB,YAAY,EAAE,CACpB,CAAC,CAED,mBAAO,KAAC,IAAI,wBACV,MAAC,SAAS,EAAC,SAAS,CAAEtB,MAAM,CAACuB,SAAU,wBACrC,MAAC,QAAQ,yBACP,0GAA6B,cAC7B,aAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,8HAA0B,EAAG,cAC9D,aAAM,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,iFAAgB,EAAG,GAC5C,cACX,aAAK,SAAS,CAAEvB,MAAM,CAACwB,IAAK,wBAC1B,KAAC,KAAK,EAAC,KAAK,CAAC,iFAAgB,EAAG,cAChC,KAAC,YAAY,EACX,MAAM,CAAEf,OAAQ,CAChB,oBAAoB,CAAEE,eAAgB,CACtC,YAAY,CAAEJ,YAAa,EAC3B,CACDC,MAAM,CAAG,CAAC,eAAI,KAAC,MAAM,EACpB,QAAQ,CAAC,YAAY,CACrB,YAAY,CAAEa,gBAAiB,6FACT,GACpB,GACI,EACP,CACT,CAAC,CAED,cAAef,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}